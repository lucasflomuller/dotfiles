---
# Cross-platform package installation

- name: "📦 Include OS-specific package installation tasks"
  include_tasks: "{{ ansible_distribution | lower }}.yml"

- name: "🔧 Update package cache (Linux)"
  package:
    update_cache: yes
  become: yes
  when: ansible_system == 'Linux' and ansible_pkg_mgr != 'brew'

- name: "🍺 Update Homebrew (macOS)"
  homebrew:
    update_homebrew: yes
  when: ansible_pkg_mgr == 'brew'